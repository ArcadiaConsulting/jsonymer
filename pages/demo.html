<div id="demo">

  <div class="cf">
    <div id="demo-left" class="left">
      <h3>The Editor Component</h3>
      <jsonymer-editor id="editor"></jsonymer-editor>
    </div>
    <div id="demo-right" class="right">
      <h3>Live Preview</h3>
      <prism-js id="live-preview" language="javascript"></prism-js>
      <!-- <pre><code id="live-preview" class="language-javascript">preview</code></pre> -->
    </div>
  </div>

  <div id="demo-code-wrap">
    <h3>The Code</h3>
    <div id="demo-code" class="cf">

      <div id="code-left">
        <h4>HTML</h4>
        <prism-js language="markup" class="demo-code">
&lt;!-- path to the jsonymer element -->
&lt;link rel="import" href="jsonymer/jsonymer-editor.html">
&lt;div id="jsonymerWrap">
  &lt;jsonymer-editor id="editor">&lt;/jsonymer-editor>
&lt;/div>
&lt;div>
  &lt;pre id="livePreview">&lt;/pre>
&lt;/div>
        </prism-js>
      </div>
      <div id="code-right">
        <h4>Javascript</h4>
        <prism-js language="javascript" class="demo-code">
// get our jsonymer element, as well as the live preview "pre"
var editor = document.getElementById('editor');
var preview = document.getElementById('livePreview');

// make sure the jsonymer element is ready to go first
editor.addEventListener('domReady', function(){

  // listen to the "edit" event, which fires
  // any time something changes in the data
  this.addEventListener('edit', function(){

    // if there is an error on screen, 
    // don't apply the live preview
    if(this.hasError()){
      return;
    }

    // otherwise, retrieve the object in its true form
    // Note: toJSON() is a method on the jsonymer element
    var jsonString = this.toJSON(true, true);
    
    // place the stringified version of the data into the
    // live preview "pre"
    preview.innerHTML = JSON.stringify(jsonString, null, 2);

  }, false);

}, false);
        </prism-js>
      </div>

    </div>
  </div>

</div>
<script>

var preview = document.getElementById('live-preview');

document.getElementById('editor').addEventListener('domReady', function(){

  this.obj = {
    "name" : "Joe",
    "" : "",
    "nullProperty" : null,
    "0" : 0,
    "1" : 1,
    "object" : {
      "falseProperty" : false,
      "trueProperty" : true
    },
    "array" : [
      "The Next Item shouldn't show up in preview",
      { "undefinedProperty" : undefined }
    ]
  };

  preview.inputValue = JSON.stringify(this.obj, null, 2);
  Prism.highlightElement(preview);

  this.addEventListener('edit', function(){
    if(this.hasError()){
      return;
    }

    var jsonString = this.toJSON(true, true);

    preview.inputValue = JSON.stringify(jsonString, null, 2);
    Prism.highlightElement(preview);

  }, false);

}, false);

</script>










































